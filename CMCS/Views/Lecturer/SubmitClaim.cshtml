@model CMCS.Models.Claim
@{
    ViewData["Title"] = "Submit Claim";
}

<div style="font-family: 'Segoe UI', Helvetica, Arial, sans-serif; padding:30px; background-color:#F5F5F5; min-height:100vh;">
    <nav style="margin-bottom:20px; font-size:14px; color:#555;">
        <a href="/Lecturer/Dashboard" style="color:#D67F2B; text-decoration:none;">Dashboard</a>
        <span style="margin: 0 5px;">/</span>
        <span style="color:#2C3E50;">Submit Claim</span>
    </nav>

    <h2 style="color:#2C3E50; margin-bottom:20px;">Submit a New Claim</h2>

    <div style="max-width:500px; background:white; padding:10px 15px; border-radius:8px; margin-bottom:15px;">
        @if (TempData["SuccessMessage"] != null)
        {
            <div style="color:green;">@TempData["SuccessMessage"]</div>
        }
        @if (TempData["ErrorMessage"] != null)
        {
            <div style="color:red;">@TempData["ErrorMessage"]</div>
        }
    </div>

    <form asp-action="SubmitClaim" method="post" enctype="multipart/form-data" style="max-width:500px; background-color:white; padding:20px; border-radius:12px;">
        @Html.AntiForgeryToken()

        <div asp-validation-summary="All" class="text-danger" style="margin-bottom:15px;"></div>

        <div style="margin-bottom:15px;">
            <label style="font-weight:bold; color:#2C3E50;">Claim Month</label>

            <div style="display:flex; gap:10px;">
                <select asp-for="Month" name="Month" required
                        style="flex:1; padding:10px; border-radius:6px; border:1px solid #ccc;">
                    <option value="">Select Month</option>
                    @{
                        var months = System.Globalization.DateTimeFormatInfo.InvariantInfo.MonthNames
                        .Where(m => !string.IsNullOrEmpty(m)).ToList();

                        foreach (var m in months)
                        {
                            <option value="@m">@m</option>
                        }
                    }
                </select>

                <select name="Year" required
                        style="width:120px; padding:10px; border-radius:6px; border:1px solid #ccc;">
                    <option value="">Year</option>
                    @{
                        var currentYear = DateTime.Now.Year;
                        for (int y = currentYear - 1; y <= currentYear + 3; y++)
                        {
                            <option value="@y">@y</option>
                        }
                    }
                </select>
            </div>

            <span asp-validation-for="Month" class="text-danger"></span>
        </div>


        <div style="margin-bottom:15px;">
            <label style="font-weight:bold; color:#2C3E50;">Hours Worked</label>
            <input asp-for="HoursWorked" type="number" min="1" required style="width:100%; padding:10px; margin-top:5px; border-radius:6px; border:1px solid #ccc;" />
            <span asp-validation-for="HoursWorked" class="text-danger"></span>
        </div>

        <div style="margin-bottom:15px;">
            <label style="font-weight:bold; color:#2C3E50;">Hourly Rate</label>
            <input asp-for="HourlyRate" type="number" min="0" step="0.01" readonly style="width:100%; padding:10px; margin-top:5px; border-radius:6px; border:1px solid #ccc; background:#f7f7f7;" />
            <input asp-for="HourlyRate" type="hidden" />
            <span asp-validation-for="HourlyRate" class="text-danger"></span>
        </div>

        <div style="margin-bottom:15px;">
            <label style="font-weight:bold; color:#2C3E50;">Supporting Documents</label>
            <input name="uploadedFiles" type="file" multiple style="width:100%; padding:5px; margin-top:5px;" />
        </div>

        <button type="submit" style="padding:10px 20px; background-color:#D67F2B; color:white; border:none; border-radius:6px; cursor:pointer;">
            Submit Claim
        </button>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
